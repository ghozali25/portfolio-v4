import{r as n,j as e}from"./index-BbFNvhjr.js";import{s as o}from"./supabaseClient-C1P9HHsC.js";import{S as i}from"./sweetalert2.esm.all-NNS-RXd7.js";const Ve=()=>{const[_,Q]=n.useState(()=>localStorage.getItem("admin_auth")==="1"),[h,W]=n.useState({user:"",pass:""});n.useEffect(()=>{_&&Fe()},[_]);const pe=t=>{t.preventDefault(),h.user==="ali"&&h.pass==="ali123"?(localStorage.setItem("admin_auth","1"),Q(!0)):i.fire("Login gagal","Username atau password salah","error")},be=t=>{O(t.id),U(t.Link||""),C(null),f&&(URL.revokeObjectURL(f),j(""))},he=async t=>{if(t.preventDefault(),!!g){I(!0);try{let r;if(x){const u=`certificates/${Date.now()}_${x.name}`,{error:c}=await o.storage.from("profile-images").upload(u,x,{upsert:!0});if(c)throw c;const{data:m}=await o.storage.from("profile-images").getPublicUrl(u);r=m==null?void 0:m.publicUrl}const s={Link:B||null};r&&(s.Img=r);const{error:a}=await o.from("certificates").update(s).eq("id",g);if(a)throw a;i.fire("Updated","Certificate updated","success"),O(null),C(null),U(""),f&&(URL.revokeObjectURL(f),j(""));const d=document.getElementById("certificate-input");d&&(d.value=""),await A()}catch(r){console.error(r),i.fire("Error","Failed to update certificate","error")}finally{I(!1)}}},xe=async()=>{if((await i.fire({title:"Delete CV link?",icon:"warning",showCancelButton:!0})).isConfirmed)try{await o.storage.from("profile-images").remove(["about/cv_link.txt"]),b(""),typeof window<"u"&&localStorage.setItem("about_version",String(Date.now())),i.fire("Deleted","CV link removed","success")}catch(r){console.error(r),i.fire("Error","Failed to delete CV link","error")}},we=async()=>{try{const{data:t,error:r}=await o.storage.from("profile-images").list("about",{limit:100});if(r&&console.warn(r.message),!(t||[]).some(m=>m.name==="cv_link.txt")){b("");return}const{data:a}=o.storage.from("profile-images").getPublicUrl("about/cv_link.txt"),d=a==null?void 0:a.publicUrl;if(!d){b("");return}const c=await(await fetch(d)).text();b((c||"").trim())}catch(t){console.error(t)}},je=async()=>{oe(!0);try{const t=/\.pdf(\?|#|$)/i.test(D||""),r=/https?:\/\/drive\.google\.com\//i.test(D||"");if(!t&&!r){i.fire("Format tidak valid","Harap masukkan tautan ke file PDF (contoh: Google Drive link ke PDF).","warning");return}const s=new Blob([D||""],{type:"text/plain"}),{error:a}=await o.storage.from("profile-images").upload("about/cv_link.txt",s,{upsert:!0,contentType:"text/plain"});if(a)throw a;typeof window<"u"&&localStorage.setItem("about_version",String(Date.now())),i.fire("Success","CV link saved","success")}catch(t){console.error(t),i.fire("Error","Failed to save CV link","error")}finally{oe(!1)}},ve=async()=>{se(!0);try{const t=new Blob([G||""],{type:"text/plain"}),{error:r}=await o.storage.from("profile-images").upload("about/summary.txt",t,{upsert:!0,contentType:"text/plain"});if(r)throw r;typeof window<"u"&&localStorage.setItem("about_version",String(Date.now())),i.fire("Success","About summary saved","success")}catch(t){console.error(t),i.fire("Error","Failed to save about summary","error")}finally{se(!1)}},ye=async()=>{if((await i.fire({title:"Delete about summary?",icon:"warning",showCancelButton:!0})).isConfirmed)try{await o.storage.from("profile-images").remove(["about/summary.txt"]),P(""),typeof window<"u"&&localStorage.setItem("about_version",String(Date.now())),i.fire("Deleted","About summary removed","success")}catch(r){console.error(r),i.fire("Error","Failed to delete about summary","error")}},Ne=async()=>{try{const{data:t,error:r}=await o.storage.from("profile-images").list("about",{limit:100});if(r&&console.warn(r.message),!(t||[]).some(m=>m.name==="summary.txt")){P("");return}const{data:a}=o.storage.from("profile-images").getPublicUrl("about/summary.txt"),d=a==null?void 0:a.publicUrl;if(!d){P("");return}const c=await(await fetch(d)).text();P(c||"")}catch(t){console.error(t)}},ke=async t=>{if(t){re(!0);try{const r="about/profile.png",{error:s}=await o.storage.from("profile-images").upload(r,t,{upsert:!0,contentType:t.type});if(s)throw s;const{data:a}=o.storage.from("profile-images").getPublicUrl(r);E((a==null?void 0:a.publicUrl)||""),v&&(URL.revokeObjectURL(v),$("")),ne(null),typeof window<"u"&&localStorage.setItem("about_version",String(Date.now())),i.fire("Success","About photo updated","success")}catch(r){console.error(r),i.fire("Error","Failed to upload about photo","error")}finally{re(!1)}}},Se=async()=>{if((await i.fire({title:"Delete about photo?",icon:"warning",showCancelButton:!0})).isConfirmed)try{await o.storage.from("profile-images").remove(["about/profile.png"]),E(""),typeof window<"u"&&localStorage.setItem("about_version",String(Date.now())),i.fire("Deleted","About photo removed","success")}catch(r){console.error(r),i.fire("Error","Failed to delete about photo","error")}},Ce=()=>{localStorage.removeItem("admin_auth"),Q(!1)},[l,S]=n.useState({Title:"",Description:"",Link:"",Github:"",TechStack:"",Features:"",Img:null}),[X,L]=n.useState(!1),[Y,Ue]=n.useState([]),[p,Z]=n.useState(null),[x,C]=n.useState(null),[B,U]=n.useState(""),[ee,I]=n.useState(!1),[te,Pe]=n.useState([]),[g,O]=n.useState(null),[q,E]=n.useState(""),[F,re]=n.useState(!1),[G,P]=n.useState(""),[ae,se]=n.useState(!1),[D,b]=n.useState(""),[ie,oe]=n.useState(!1),[w,R]=n.useState(""),[f,j]=n.useState(""),[le,ne]=n.useState(null),[v,$]=n.useState(""),[V,ce]=n.useState(null),[de,ue]=n.useState(""),[me,De]=n.useState([]),[fe,ge]=n.useState(!1),[y,H]=n.useState(""),N=t=>{const{name:r,value:s,files:a}=t.target;if(r==="Img"){const d=(a==null?void 0:a[0])||null;if(S(u=>({...u,Img:d})),d){const u=URL.createObjectURL(d);R(c=>(c&&URL.revokeObjectURL(c),u))}else w&&URL.revokeObjectURL(w),R("")}else S(d=>({...d,[r]:s}))},z=()=>{S({Title:"",Description:"",Link:"",Github:"",TechStack:"",Features:"",Img:null}),Z(null)},Le=async t=>{if(t.preventDefault(),!l.Title||!l.Description||!l.Img){i.fire("Required","Title, Description, and Image are required","warning");return}L(!0);try{const r=`projects/${Date.now()}_${l.Img.name}`,{error:s}=await o.storage.from("profile-images").upload(r,l.Img,{upsert:!0});if(s)throw s;const{data:a}=o.storage.from("profile-images").getPublicUrl(r),d=a==null?void 0:a.publicUrl,u=l.TechStack?l.TechStack.split(",").map(K=>K.trim()).filter(Boolean):[],c=l.Features?l.Features.split(",").map(K=>K.trim()).filter(Boolean):[],{error:m}=await o.from("projects").insert([{Title:l.Title,Description:l.Description,Link:l.Link,Github:l.Github||"",TechStack:u,Features:c,Img:d}]);if(m)throw i.fire("Error",(m.message||"Failed to create project")+`
Hint: Pastikan RLS policy INSERT untuk tabel 'projects' sudah diizinkan untuk public.`,"error"),m;i.fire("Success","Project created","success"),z();const k=document.querySelector('input[name="Img"]');k&&(k.value=""),await T()}catch(r){console.error(r),i.fire("Error","Failed to create project","error")}finally{L(!1)}},Ie=async t=>{if(t.preventDefault(),!x){i.fire("Required","Certificate image is required","warning");return}I(!0);try{const r=`certificates/${Date.now()}_${x.name}`,{error:s}=await o.storage.from("profile-images").upload(r,x,{upsert:!0});if(s)throw s;const{data:a}=o.storage.from("profile-images").getPublicUrl(r),d=a==null?void 0:a.publicUrl,{error:u}=await o.from("certificates").insert([{Img:d,Link:B||null}]);if(u)throw i.fire("Error",(u.message||"Failed to add certificate")+`
Hint: Pastikan RLS policy INSERT untuk tabel 'certificates' sudah diizinkan untuk public.`,"error"),u;i.fire("Success","Certificate added","success"),C(null),U(""),f&&(URL.revokeObjectURL(f),j(""));const c=document.getElementById("certificate-input");c&&(c.value=""),await A()}catch(r){console.error(r),i.fire("Error","Failed to add certificate","error")}finally{I(!1)}},T=async()=>{const{data:t,error:r}=await o.from("projects").select("*").order("created_at",{ascending:!1});if(r){console.error(r);return}Ue(t||[])},A=async()=>{const{data:t,error:r}=await o.from("certificates").select("*").order("created_at",{ascending:!1});if(r){console.error(r);return}Pe(t||[])},M=async()=>{const{data:t,error:r}=await o.from("clients").select("*").order("created_at",{ascending:!0});if(r){console.error(r);return}De(t||[])},Ee=async()=>{try{const{data:t,error:r}=await o.storage.from("profile-images").list("about",{limit:100});if(r&&console.warn(r.message),(t||[]).some(a=>a.name==="profile.png")){const{data:a}=o.storage.from("profile-images").getPublicUrl("about/profile.png");E((a==null?void 0:a.publicUrl)||"")}else E("")}catch(t){console.error(t)}},Fe=async()=>{await Promise.all([T(),A(),M(),Ee(),Ne(),we()])},J=t=>{if(!t)return null;const r="/storage/v1/object/public/profile-images/",s=t.indexOf(r);return s===-1?null:t.substring(s+r.length)},Re=t=>{Z(t.id),S({Title:t.Title||"",Description:t.Description||"",Link:t.Link||"",Github:t.Github||"",TechStack:(t.TechStack||[]).join(","),Features:(t.Features||[]).join(","),Img:null}),window.scrollTo({top:0,behavior:"smooth"})},Te=async t=>{if(t.preventDefault(),!!p){L(!0);try{let r;if(l.Img){const c=`projects/${Date.now()}_${l.Img.name}`,{error:m}=await o.storage.from("profile-images").upload(c,l.Img,{upsert:!0});if(m)throw m;const{data:k}=o.storage.from("profile-images").getPublicUrl(c);r=k==null?void 0:k.publicUrl}const s=l.TechStack?l.TechStack.split(",").map(c=>c.trim()).filter(Boolean):[],a=l.Features?l.Features.split(",").map(c=>c.trim()).filter(Boolean):[],d={Title:l.Title,Description:l.Description,Link:l.Link,Github:l.Github||"",TechStack:s,Features:a};r&&(d.Img=r);const{error:u}=await o.from("projects").update(d).eq("id",Number(p));if(u)throw i.fire("Error",(u.message||"Failed to update project")+`
Hint: Pastikan RLS policy UPDATE untuk tabel 'projects' sudah diizinkan untuk public.`,"error"),u;i.fire("Updated","Project updated","success"),z(),await T()}catch(r){console.error(r),i.fire("Error","Failed to update project","error")}finally{L(!1)}}},Ae=async t=>{if(!(await i.fire({title:"Delete?",text:t.Title,icon:"warning",showCancelButton:!0})).isConfirmed)return;try{const a=J(t.Img);a&&await o.storage.from("profile-images").remove([a])}catch(a){console.warn("Storage remove failed:",(a==null?void 0:a.message)||a)}const{error:s}=await o.from("projects").delete().eq("id",Number(t.id));if(s){console.error(s),i.fire("Error",s.message||"Failed to delete project","error");return}await T(),i.fire("Deleted","Project removed","success")},_e=async t=>{if(!(await i.fire({title:"Delete certificate?",icon:"warning",showCancelButton:!0})).isConfirmed)return;try{const a=J(t.Img);a&&await o.storage.from("profile-images").remove([a])}catch(a){console.warn("Storage remove failed:",(a==null?void 0:a.message)||a)}const{error:s}=await o.from("certificates").delete().eq("id",Number(t.id));if(s){console.error(s),i.fire("Error",s.message||"Failed to delete certificate","error");return}await A(),i.fire("Deleted","Certificate removed","success")},Be=async t=>{if(t.preventDefault(),!V){i.fire("Required","Client image is required","warning");return}ge(!0);try{const r=`clients/${Date.now()}_${V.name}`,{error:s}=await o.storage.from("profile-images").upload(r,V,{upsert:!0});if(s)throw s;const{data:a}=o.storage.from("profile-images").getPublicUrl(r),d=a==null?void 0:a.publicUrl,{error:u}=await o.from("clients").insert([{Img:d,Name:de||null}]);if(u)throw i.fire("Error",u.message||"Failed to add client","error"),u;i.fire("Success","Client added","success"),ce(null),ue(""),y&&(URL.revokeObjectURL(y),H(""));const c=document.getElementById("client-input");c&&(c.value=""),await M()}catch(r){console.error(r),i.fire("Error","Failed to add client","error")}finally{ge(!1)}},Oe=async t=>{if(!(await i.fire({title:"Delete client?",icon:"warning",showCancelButton:!0})).isConfirmed)return;try{const a=J(t.Img);a&&await o.storage.from("profile-images").remove([a])}catch(a){console.warn("Storage remove failed:",(a==null?void 0:a.message)||a)}const{error:s}=await o.from("clients").delete().eq("id",Number(t.id));if(s){console.error(s),i.fire("Error",s.message||"Failed to delete client","error");return}await M(),i.fire("Deleted","Client removed","success")};return e.jsx("div",{className:"min-h-screen bg-[#030014] text-white px-[5%] sm:px-[10%] py-10",children:_?e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-6 text-transparent bg-clip-text bg-gradient-to-r from-[#6366f1] to-[#a855f7]",children:"Admin Panel"}),e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("p",{className:"text-gray-400",children:"Tambah, edit, hapus Projects dan Certificates. Data disimpan di Supabase (Postgres + Storage)."}),e.jsx("button",{onClick:Ce,className:"px-4 py-2 rounded-lg bg-white/10 border border-white/10",children:"Logout"})]}),e.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/10 p-6 md:p-8 mb-10",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:p?"Edit Project":"Create Project"}),e.jsxs("form",{onSubmit:p?Te:Le,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Title"}),e.jsx("input",{name:"Title",value:l.Title,onChange:N,className:"w-full p-3 rounded-lg bg-white/10 border border-white/10 focus:outline-none",required:!0})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Link (Live)"}),e.jsx("input",{name:"Link",value:l.Link,onChange:N,className:"w-full p-3 rounded-lg bg-white/10 border border-white/10 focus:outline-none"})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Github"}),e.jsx("input",{name:"Github",value:l.Github,onChange:N,className:"w-full p-3 rounded-lg bg-white/10 border border-white/10 focus:outline-none"})]}),e.jsxs("div",{className:"col-span-1 md:col-span-2",children:[e.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Description"}),e.jsx("textarea",{name:"Description",value:l.Description,onChange:N,className:"w-full p-3 rounded-lg bg-white/10 border border-white/10 focus:outline-none",rows:3,required:!0})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Tech Stack (pisahkan dengan koma)"}),e.jsx("input",{name:"TechStack",value:l.TechStack,onChange:N,className:"w-full p-3 rounded-lg bg-white/10 border border-white/10 focus:outline-none",placeholder:"React,Tailwind,Firebase"})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Features (pisahkan dengan koma)"}),e.jsx("input",{name:"Features",value:l.Features,onChange:N,className:"w-full p-3 rounded-lg bg-white/10 border border-white/10 focus:outline-none",placeholder:"Auth,Dashboard,etc"})]}),e.jsxs("div",{className:"col-span-1 md:col-span-2",children:[e.jsxs("label",{className:"block text-sm text-gray-300 mb-1",children:["Image ",p?"(kosongkan jika tidak ganti)":""]}),e.jsx("input",{name:"Img",type:"file",accept:"image/*",onChange:t=>{var s;const r=((s=t.target.files)==null?void 0:s[0])||null;S({...l,Img:r}),w&&URL.revokeObjectURL(w),R(r?URL.createObjectURL(r):"")},className:"w-full"}),w&&e.jsx("div",{className:"mt-3",children:e.jsx("img",{src:w,alt:"preview",className:"w-48 h-32 object-cover rounded-lg border border-white/10"})})]}),e.jsxs("div",{className:"col-span-1 md:col-span-2 mt-2 flex gap-3",children:[e.jsx("button",{type:"submit",disabled:X,className:"px-6 py-3 rounded-lg bg-gradient-to-r from-[#6366f1] to-[#a855f7] disabled:opacity-60",children:X?p?"Updating...":"Saving...":p?"Update Project":"Save Project"}),p&&e.jsx("button",{type:"button",onClick:z,className:"px-6 py-3 rounded-lg bg-white/10 border border-white/10",children:"Cancel"})]})]})]}),e.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/10 p-6 md:p-8 mb-10",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Projects"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Y.map(t=>e.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10 flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold",children:t.Title}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>Re(t),className:"px-3 py-1 rounded bg-white/10",children:"Edit"}),e.jsx("button",{onClick:()=>Ae(t),className:"px-3 py-1 rounded bg-red-500/20 text-red-300",children:"Delete"})]})]}),e.jsx("p",{className:"text-sm text-gray-400 line-clamp-2",children:t.Description})]},t.id)),Y.length===0&&e.jsx("p",{className:"text-gray-400",children:"Belum ada project."})]})]}),e.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/10 p-6 md:p-8 mb-10",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"About Photo"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start",children:[e.jsx("div",{className:"w-40 h-40 rounded-full overflow-hidden border border-white/10 bg-white/5 flex items-center justify-center",children:q?e.jsx("img",{src:q,alt:"About",className:"w-full h-full object-cover"}):e.jsx("span",{className:"text-gray-400 text-sm",children:"No photo"})}),e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsx("input",{id:"about-photo-input",type:"file",accept:"image/*",className:"w-full",onChange:t=>{var s;const r=((s=t.target.files)==null?void 0:s[0])||null;ne(r),v&&URL.revokeObjectURL(v),$(r?URL.createObjectURL(r):"")},disabled:F}),v&&e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Preview (belum diupload):"}),e.jsx("img",{src:v,alt:"about preview",className:"w-32 h-32 object-cover rounded-full border border-white/10"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>{const t=document.getElementById("about-photo-input");t&&t.click()},className:"px-4 py-2 rounded-lg bg-white/10 border border-white/10",disabled:F,children:"Pilih File"}),e.jsx("button",{onClick:()=>ke(le),className:"px-4 py-2 rounded-lg bg-gradient-to-r from-[#6366f1] to-[#a855f7] disabled:opacity-60",disabled:F||!le,children:F?"Uploading...":"Upload / Replace"}),q&&e.jsx("button",{onClick:Se,className:"px-4 py-2 rounded-lg bg-red-500/20 text-red-300",children:"Delete"})]}),e.jsx("p",{className:"text-xs text-gray-400",children:"File disimpan di Storage: profile-images/about/profile.png"})]})]})]}),e.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/10 p-6 md:p-8 mb-10",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"About Summary"}),e.jsx("textarea",{className:"w-full p-3 rounded-lg bg-white/10 border border-white/10 focus:outline-none min-h-[140px]",placeholder:"Tulis ringkasan About...",value:G,onChange:t=>P(t.target.value)}),e.jsxs("div",{className:"mt-3 flex gap-3",children:[e.jsx("button",{onClick:ve,disabled:ae,className:"px-4 py-2 rounded-lg bg-gradient-to-r from-[#6366f1] to-[#a855f7] disabled:opacity-60",children:ae?"Saving...":"Save"}),G&&e.jsx("button",{onClick:ye,className:"px-4 py-2 rounded-lg bg-red-500/20 text-red-300",children:"Delete"})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Disimpan di Storage: profile-images/about/summary.txt"})]}),e.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/10 p-6 md:p-8 mb-10",children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"About CV (PDF)"}),e.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"Masukkan tautan ke file CV dalam format PDF (bukan foto profil). Contoh: tautan Google Drive yang mengarah ke PDF."}),e.jsx("input",{type:"url",placeholder:"https://...",className:"w-full p-3 rounded-lg bg-white/10 border border-white/10 focus:outline-none",value:D,onChange:t=>b(t.target.value),onPaste:t=>{var s;const r=(s=t.clipboardData||window.clipboardData)==null?void 0:s.getData("text");r&&(t.preventDefault(),b(r.trim()))},onDrop:t=>{var s;t.preventDefault();const r=(s=t.dataTransfer)==null?void 0:s.getData("text/plain");r&&b(r.trim())},spellCheck:!1,autoComplete:"off"}),e.jsxs("div",{className:"mt-3 flex gap-3",children:[e.jsx("button",{onClick:je,disabled:ie,className:"px-4 py-2 rounded-lg bg-gradient-to-r from-[#6366f1] to-[#a855f7] disabled:opacity-60",children:ie?"Saving...":"Save"}),D&&e.jsx("button",{onClick:xe,className:"px-4 py-2 rounded-lg bg-red-500/20 text-red-300",children:"Delete"})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Disimpan di Storage: profile-images/about/cv_link.txt"})]}),e.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/10 p-6 md:p-8 mb-10",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Add Client"}),e.jsxs("form",{onSubmit:Be,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Client Image"}),e.jsx("input",{id:"client-input",type:"file",accept:"image/*",className:"w-full",onChange:t=>{var s;const r=((s=t.target.files)==null?void 0:s[0])||null;ce(r),y&&URL.revokeObjectURL(y),H(r?URL.createObjectURL(r):"")},required:!0}),y&&e.jsx("div",{className:"mt-3",children:e.jsx("img",{src:y,alt:"preview",className:"w-32 h-32 object-contain rounded-lg border border-white/10 bg-white/5 p-2"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Client Name (optional)"}),e.jsx("input",{type:"text",value:de,onChange:t=>ue(t.target.value),className:"w-full p-3 rounded-lg bg-white/10 border border-white/10 focus:outline-none",placeholder:"Company Name"})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsx("button",{type:"submit",disabled:fe,className:"px-6 py-3 rounded-lg bg-gradient-to-r from-[#6366f1] to-[#a855f7] disabled:opacity-60",children:fe?"Saving...":"Save Client"})})]})]}),e.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/10 p-6 md:p-8 mb-10",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Clients"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:[me.map(t=>e.jsxs("div",{className:"p-3 rounded-xl bg-white/5 border border-white/10 flex flex-col items-center gap-2",children:[e.jsx("img",{src:t.Img,alt:t.Name||"Client",className:"w-20 h-20 object-contain rounded-lg bg-white/5 p-2 border border-white/10"}),e.jsx("div",{className:"text-xs text-gray-300 truncate w-full text-center",children:t.Name||"â€”"}),e.jsx("button",{onClick:()=>Oe(t),className:"px-2 py-1 rounded bg-red-500/70 text-white text-xs",children:"Delete"})]},t.id)),me.length===0&&e.jsx("p",{className:"text-gray-400",children:"Belum ada client."})]})]}),e.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/10 p-6 md:p-8",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:g?"Edit Certificate":"Add Certificate"}),e.jsxs("form",{onSubmit:g?he:Ie,className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-gray-300 mb-1",children:["Certificate Image",g?" (optional)":""]}),e.jsx("input",{id:"certificate-input",type:"file",accept:"image/*",onChange:t=>{var s;const r=((s=t.target.files)==null?void 0:s[0])||null;C(r),f&&URL.revokeObjectURL(f),j(r?URL.createObjectURL(r):"")},className:"w-full",required:!g}),f&&e.jsx("div",{className:"mt-3",children:e.jsx("img",{src:f,alt:"preview",className:"w-48 h-32 object-cover rounded-lg border border-white/10"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Credential Link (optional)"}),e.jsx("input",{type:"url",placeholder:"https://...",className:"w-full p-3 rounded-lg bg-white/10 border border-white/10 focus:outline-none",value:B,onChange:t=>U(t.target.value)})]}),e.jsx("div",{className:"mt-2",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"submit",disabled:ee,className:"px-6 py-3 rounded-lg bg-gradient-to-r from-[#6366f1] to-[#a855f7] disabled:opacity-60",children:ee?"Saving...":g?"Update Certificate":"Save Certificate"}),g&&e.jsx("button",{type:"button",onClick:()=>{O(null),C(null),U("");const t=document.getElementById("certificate-input");t&&(t.value=""),f&&(URL.revokeObjectURL(f),j(""))},className:"px-6 py-3 rounded-lg bg-white/10 border border-white/10",children:"Cancel"})]})})]})]}),e.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/10 p-6 md:p-8 mt-10",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Certificates"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[te.map(t=>e.jsxs("div",{className:"relative group p-2 rounded-xl bg-white/5 border border-white/10",children:[e.jsx("img",{src:t.Img,alt:"cert",className:"w-full h-auto rounded-lg border border-white/10"}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsx("div",{className:"text-xs text-gray-400 truncate pr-2",children:t.Link||"No credential link"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>be(t),className:"px-2 py-1 rounded bg-white/10 text-xs border border-white/10",children:"Edit"}),t.Link&&e.jsx("a",{href:t.Link,target:"_blank",rel:"noopener noreferrer",className:"px-2 py-1 rounded bg-white/10 text-xs border border-white/10",children:"Open"}),e.jsx("button",{onClick:()=>_e(t),className:"px-2 py-1 rounded bg-red-500/70 text-white text-xs",children:"Delete"})]})]})]},t.id)),te.length===0&&e.jsx("p",{className:"text-gray-400",children:"Belum ada certificate."})]})]})]}):e.jsxs("div",{className:"max-w-md mx-auto bg-white/5 border border-white/10 rounded-2xl p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Admin Login"}),e.jsxs("form",{onSubmit:pe,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm mb-1",children:"Username"}),e.jsx("input",{className:"w-full p-3 rounded-lg bg-white/10 border border-white/10",value:h.user,onChange:t=>W({...h,user:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm mb-1",children:"Password"}),e.jsx("input",{type:"password",className:"w-full p-3 rounded-lg bg-white/10 border border-white/10",value:h.pass,onChange:t=>W({...h,pass:t.target.value})})]}),e.jsx("button",{type:"submit",className:"w-full px-6 py-3 rounded-lg bg-gradient-to-r from-[#6366f1] to-[#a855f7]",children:"Login"})]})]})})};export{Ve as default};
